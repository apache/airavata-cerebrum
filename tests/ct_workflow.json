{
    "connection": {
        "db": "abm_celltypes",
        "workflow": [
            {
                "type": "query",
                "name": "airavata_cerebrum.atlas.data.abm_celltypes.CTDbCellApiQuery",
                "init_params": {},
                "exec_params": {
                    "species": ["Mus musculus"]
                }
            },
            {
                "type": "map",
                "name": "airavata_cerebrum.atlas.data.base.TQDMWrapper",
                "init_params": {},
                "exec_params": {}
            },
            {
                "type": "filter",
                "name": "airavata_cerebrum.atlas.data.abm_celltypes.CTDbCellAttrFilter",
                "init_params": {},
                "exec_params": {
                    "filters": [
                        ["structure__layer", "__eq__", 4],
                        ["structure_parent__acronym", "__eq__", "VISp"]
                    ],
                    "#attribute_itr": ["structure__layer", "structure_parent__acronym"],
                    "#op_itr": ["__eq__", "__eq__"],
                    "#value_itr": ["4", "VISp"]
                }
            },
            {
                "type": "query",
                "name": "airavata_cerebrum.atlas.data.abm_celltypes.CTDbGlifApiQuery",
                "init_params": {},
                "exec_params": {"key" : "specimen__id", "first": "True"}
            },
            {
                "type": "filter",
                "name": "airavata_cerebrum.atlas.data.abm_celltypes.CTDbCellAttrJPathFilter",
                "init_params": {},
                "exec_params": {
                    "filter_exp" : "$.glif.neuronal_models[?('3 LIF + Afterspike Currents' in @.name)]",
                    "dest_path": "/glif/neuronal_models"
                }
            },
            {
                "type": "filter",
                "name": "airavata_cerebrum.atlas.data.abm_celltypes.CTDbCellAttrJPathFilter",
                "init_params": {},
                "exec_params": {
                    "filter_exp" : "$.glif.neuronal_models[0].neuronal_model_runs[?(@.explained_variance_ratio > 0.7)]",
                    "dest_path": "/glif/neuronal_models/0/neuronal_model_runs"
                }
            }
        ]
    },
    "neuron_models" : {
        "Rorb" : {
            "workflow" : [{
                "type": "filter",
                "name": "airavata_cerebrum.atlas.data.abm_celltypes.CTDbCellAttrFilter",
                "init_params": {},
                "exec_params": {
                    "key": "ct",
                    "filters": [
                        ["line_name", "__contains__", "Rorb"],
                        ["cell_reporter_status", "__eq__", "positive"]
                    ],
                }
            }]
        }, 
        "Vip" : {
            "workflow" : [{
                "type": "filter",
                "name": "airavata_cerebrum.atlas.data.abm_celltypes.CTDbCellAttrFilter",
                "init_params": {},
                "exec_params": {
                    "key": "ct",
                    "filters": [
                        ["line_name", "__contains__", "Vip-"],
                        ["cell_reporter_status", "__eq__", "positive"]
                    ],
                }
            }]
        }, 
        "Sst" : {
            "workflow" : [{
                "type": "filter",
                "name": "airavata_cerebrum.atlas.data.abm_celltypes.CTDbCellAttrFilter",
                "init_params": {},
                "exec_params": {
                    "key": "ct",
                    "filters": [
                        ["line_name", "__contains__", "Sst"],
                        ["cell_reporter_status", "__eq__", "positive"]
                    ],
                }
            }]
        }, 

    }
}
